(this.webpackJsonpauth_try=this.webpackJsonpauth_try||[]).push([[0],{106:function(e,t,c){},108:function(e,t,c){},244:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(32),i=c.n(n),r=(c(106),c(66),c(9)),l=(c(107),c(108),c(5)),d=c(0),o=c(12),j=c(8),b=c(3),u=c(16),h=c(7),m=c(2),O=c.n(m),x=c(6),p="LOGIN_SUCCESS",f="LOGIN_FAIL",v="USER_LOADED_SUCCESS",N="USER_LOADED_FAIL",g="AUTHENTICATED_SUCCESS",y="AUTHENTICATED_FAIL",_="LOGOUT",w="PASSWORD_RESET_SUCCESS",A=" PASSWORD_RESET_FAIL",S="PASSWORD_RESET_CONFIRM_SUCCESS",k="PASSWORD_RESET_CONFIRM_FAIL",I="SIGNUP_SUCCESS",C="SIGNUP_FAIL",E="ACTIVATION_SUCCESS",T="ACTIVATION_FAIL",L=c(4),J=c.n(L),W=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return console.log("load user"),c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=3,e.next=6,J.a.get("http://localhost:8000/auth/users/me/",c);case 6:a=e.sent,t({type:v,payload:a.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:N});case 13:e.next=17;break;case 15:console.log("aaye"),t({type:N});case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e,t,c,a,s,n,i,r,l){return function(){var d=Object(x.a)(O.a.mark((function d(o){var j,b,u;return O.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return j={headers:{"content-type":"application/json"}},b=JSON.stringify({email:c,first_name:e,last_name:t,user_types:n,password:a,re_password:s,gender:i,course:r,session_year_id:l}),console.log(b),d.prev=3,d.next=6,J.a.post("http://localhost:8000/auth/users/",b,j);case 6:u=d.sent,o({type:I,payload:u.data}),console.log(u.data),d.next=15;break;case 11:d.prev=11,d.t0=d.catch(3),console.log(d.t0),o({type:C});case 15:case"end":return d.stop()}}),d,null,[[3,11]])})));return function(e){return d.apply(this,arguments)}}()},F=function(){return function(e){e({type:_})}},R=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,who:e.auth.user_types}}),{login:function(e,t){return function(){var c=Object(x.a)(O.a.mark((function c(a){var s,n,i;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={headers:{"content-type":"application/json"}},n=JSON.stringify({email:e,password:t}),c.prev=2,c.next=5,J.a.post("http://localhost:8000/auth/jwt/create/",n,s);case 5:i=c.sent,a({type:p,payload:i.data}),a(W()),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(2),console.log(c.t0),a({type:f});case 14:case"end":return c.stop()}}),c,null,[[2,10]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.login,c=e.isAuthenticated,s=(e.who,Object(a.useState)({email:"",password:""})),n=Object(b.a)(s,2),i=n[0],r=n[1],h=i.email,m=i.password,O=function(e){return r(Object(j.a)(Object(j.a)({},i),{},Object(o.a)({},e.target.name,e.target.value)))};return c&&(console.log("kkkkkahahah"),u.a),Object(d.jsx)("body",{className:"hold-transition login-page",children:Object(d.jsxs)("div",{className:"login-box",children:[Object(d.jsx)("div",{className:"login-logo",children:Object(d.jsxs)("a",{href:"../../index2.html",children:[Object(d.jsx)("b",{children:"Hamro"})," Gurukul"]})}),Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body login-card-body",children:[Object(d.jsx)("p",{className:"login-box-msg",children:"Sign in to Gurukul"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(h,m)}(e)},children:[Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{className:"form-control",type:"email",placeholder:"Email",name:"email",required:!0,value:h,onChange:function(e){return O(e)}}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("div",{className:"input-group-text",children:Object(d.jsx)("span",{className:"fas fa-envelope"})})})]}),Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",required:!0,value:m,minLength:"8",onChange:function(e){return O(e)}}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("div",{className:"input-group-text",children:Object(d.jsx)("span",{className:"fas fa-lock"})})})]}),Object(d.jsx)("div",{className:"col-12",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign In"})}),Object(d.jsxs)("div",{className:"col-12 text-center",children:["Forget Your Password ? ",Object(d.jsx)(l.b,{to:"/ResetPassword",children:"Reset"})]})]})]})})]})})})),B=Object(h.b)(null,{reset_password_confirm:function(e,t,c,a){return function(){var s=Object(x.a)(O.a.mark((function s(n){var i,r;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={headers:{"content-type":"application/json"}},r=JSON.stringify({uid:e,token:t,new_password:c,re_new_password:a}),s.prev=2,s.next=5,J.a.post("http://localhost:8000/auth/users/reset_password_confirm/",r,i);case 5:n({type:S}),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(2),n({type:k});case 11:case"end":return s.stop()}}),s,null,[[2,8]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.reset_password_confirm,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=n[0],r=n[1],l=Object(a.useState)({new_password:"",re_new_password:""}),h=Object(b.a)(l,2),m=h[0],O=h[1],x=m.new_password,p=m.re_new_password,f=function(e){return O(Object(j.a)(Object(j.a)({},m),{},Object(o.a)({},e.target.name,e.target.value)))};return i?Object(d.jsx)(u.a,{to:"/"}):Object(d.jsx)("body",{className:"hold-transition login-page",children:Object(d.jsxs)("div",{className:"login-box",children:[Object(d.jsx)("div",{className:"login-logo",children:Object(d.jsxs)("a",{href:"../../index2.html",children:[Object(d.jsx)("b",{children:"Reset"})," Password"]})}),Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body login-card-body",children:[Object(d.jsx)("p",{className:"login-box-msg",children:"Provide your correct email to get password reset link "}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=t.params.uid,s=t.params.token;c(a,s,x,p),r(!0)}(e)},children:[Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",required:!0,value:x,minLength:"8",onChange:function(e){return f(e)}}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("div",{className:"input-group-text",children:Object(d.jsx)("span",{className:"fas fa-lock"})})})]}),Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",required:!0,value:p,minLength:"8",onChange:function(e){return f(e)}}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("div",{className:"input-group-text",children:Object(d.jsx)("span",{className:"fas fa-lock"})})})]}),Object(d.jsx)("div",{className:"col-12",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Reset"})})]})]})})]})})})),z=Object(h.b)(null,{reset_password:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(c){var a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"content-type":"application/json"}},s=JSON.stringify({email:e}),t.prev=2,t.next=5,J.a.post("http://localhost:8000/auth/users/reset_password/",s,a);case 5:c({type:w}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),c({type:A});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,c=Object(a.useState)(!1),s=Object(b.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)({email:""}),l=Object(b.a)(r,2),h=l[0],m=l[1],O=h.email;return n?Object(d.jsx)(u.a,{to:"/"}):Object(d.jsx)("body",{className:"hold-transition login-page",children:Object(d.jsxs)("div",{className:"login-box",children:[Object(d.jsx)("div",{className:"login-logo",children:Object(d.jsxs)("a",{href:"../../index2.html",children:[Object(d.jsx)("b",{children:"Reset"})," Password"]})}),Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body login-card-body",children:[Object(d.jsx)("p",{className:"login-box-msg",children:"Provide your correct email to get password reset link "}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(O),i(!0)}(e)},children:[Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{className:"form-control",type:"email",placeholder:"Email",name:"email",required:!0,value:O,onChange:function(e){return function(e){return m(Object(j.a)(Object(j.a)({},h),{},Object(o.a)({},e.target.name,e.target.value)))}(e)}}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("div",{className:"input-group-text",children:Object(d.jsx)("span",{className:"fas fa-envelope"})})})]}),Object(d.jsx)("div",{className:"col-12",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Reset"})})]})]})})]})})})),M=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:D})((function(e){var t=e.signup,c=e.isAuthenticated,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=n[0],r=n[1],h=Object(a.useState)({first_name:"",last_name:"",email:"",password:"",re_password:"",user_types:""}),m=Object(b.a)(h,2),O=m[0],x=m[1],p=O.first_name,f=O.last_name,v=O.email,N=O.password,g=O.re_password,y=O.user_types,_=function(e){return x(Object(j.a)(Object(j.a)({},O),{},Object(o.a)({},e.target.name,e.target.value)))};return c?Object(d.jsx)(u.a,{to:"/"}):i?Object(d.jsx)(u.a,{to:"/login"}):Object(d.jsxs)("div",{className:"container mt-5",children:[Object(d.jsx)("h1",{children:"Sign Up"}),Object(d.jsx)("p",{children:"Create your Account"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){alert("muji"),e.preventDefault(),N===g&&(t(p,f,v,N,g,y),r(!0))}(e)},children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:p,onChange:function(e){return _(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:f,onChange:function(e){return _(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:v,onChange:function(e){return _(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:N,onChange:function(e){return _(e)},minLength:"8",required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",value:g,onChange:function(e){return _(e)},minLength:"8",required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"Who are You?",name:"user_types",value:y,onChange:function(e){return _(e)},required:!0})}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(d.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(d.jsx)(l.b,{to:"/login",children:"Sign In"})]})]})})),P=Object(h.b)(null,{verify:function(e,t){return function(){var c=Object(x.a)(O.a.mark((function c(a){var s,n;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={headers:{"content-type":"application/json"}},n=JSON.stringify({uid:e,token:t}),c.prev=2,c.next=5,J.a.post("http://localhost:8000/auth/users/activation/",n,s);case 5:a({type:E}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),a({type:T});case 11:case"end":return c.stop()}}),c,null,[[2,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.verify,c=e.match,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=n[0],r=n[1];return i?Object(d.jsx)(u.a,{to:"/"}):Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"},children:[Object(d.jsx)("h1",{children:"Verify your Account:"}),Object(d.jsx)("button",{onClick:function(e){var a=c.params.uid,s=c.params.token;t(a,s),r(!0)},style:{marginTop:"50px"},type:"button",className:"btn btn-primary",children:"Verify"})]})})})),H=c(35),q=c(97),U=c(98),V={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null,user_types:"0"};var Y=Object(H.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case g:return console.log("authentication success"),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0});case y:return console.log("Log"),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1});case v:return console.log("Log"),Object(j.a)(Object(j.a)({},e),{},{user:a,user_types:a.user_types});case N:return console.log("Log"),Object(j.a)(Object(j.a)({},e),{},{user:null});case p:return console.log("Log"),localStorage.setItem("access",a.access),console.log("bhayo?"),localStorage.setItem("refresh",a.refresh),console.log("bhayo?"),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,access:a.access,refresh:a.refresh,user_types:a.user_types});case f:return console.log("Log"),localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(j.a)(Object(j.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1});case _:return console.log("Log"),localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(j.a)(Object(j.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user_types:null});case w:case A:case S:case k:case I:case C:case E:case T:return Object(j.a)({},e);default:return console.log("Logss"),e}}}),G=[U.a],$=Object(H.createStore)(Y,{},Object(q.composeWithDevTools)(H.applyMiddleware.apply(void 0,G))),X=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){var t=e.logout,c=e.isAuthenticated,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=n[0],r=n[1],o=function(){t(),r(!0)};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(d.jsxs)("ul",{className:"navbar-nav",children:[Object(d.jsx)("li",{className:"nav-item active"}),c?Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link",href:"#!",onClick:o,children:"Logout"})}):Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.b,{className:"nav-link",to:"/signup",children:"Signup"})})]})]})})}),i?Object(d.jsx)(u.a,{to:"/"}):Object(d.jsx)(a.Fragment,{})]})})),K=Object(h.b)((function(e){return{who:e.auth.user_types}}),{checkAuthenticated:function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("check authenticated"),!localStorage.getItem("access")){e.next=18;break}return console.log("aaye"),c={headers:{"content-type":"application/json",Accept:"application/json"}},a=JSON.stringify({token:localStorage.getItem("access")}),e.prev=5,e.next=8,J.a.post("http://localhost:8000/auth/jwt/verify/",a,c);case 8:"token_not_valid"!==e.sent.data.code?t({type:g}):t({type:y}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),t({type:y});case 16:e.next=20;break;case 18:console.log("aaye"),t({type:y});case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},load_user:W})((function(e){var t=e.checkAuthenticated,c=e.load_user,s=e.who,n=e.children;return Object(a.useEffect)((function(){console.log("aaye"),t(),c()}),[]),"1"===s?Object(d.jsx)(u.a,{to:"/adminhome"}):"2"===s?Object(d.jsx)(u.a,{to:"/staffhome"}):"3"===s?Object(d.jsx)(u.a,{to:"/studenthome"}):Object(d.jsxs)("div",{children:[Object(d.jsx)(X,{}),n]})})),Q=c(10),Z=c(11),ee=c(14),te=c(13),ce=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(){return Object(Q.a)(this,c),t.apply(this,arguments)}return Object(Z.a)(c,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("footer",{className:"main-footer",children:[Object(d.jsxs)("strong",{children:["Copyright \xa9 2021 ",Object(d.jsx)("a",{href:"http://kcc.edu.np",children:"Kantipur City College"}),"."]}),"All rights reserved."]})})}}]),c}(a.Component),ae=function(){var e=$.getState();return"".concat(e.auth.user.first_name," ").concat(e.auth.user.last_name)},se=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("strong",{children:"img"})}),Object(d.jsx)("div",{className:"info",children:Object(d.jsx)("a",{href:"",className:"d-block",children:ae()})})]}),Object(d.jsx)("nav",{className:"mt-2",children:Object(d.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffhome",role:"button",children:"Home"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/safftakeattendance",children:" Take Attendance "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffupdateattendance",children:" View Update Attendance "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"staffapplyleave",children:" Apply Leave "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/stafffeedback",children:" Feedback "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"staffaddresult",children:" Add Result"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffeditresult",role:"button",children:"View/Edit Result"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffnotification",children:" Notifications "})})]})})]})})]})})})},ne=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$.getState(),g(t),c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/suser/3",c);case 5:return a=e.sent,e.next=8,J.a.get("http://127.0.0.1:8000/api/viewsubject/".concat($.getState().auth.user.id),c);case 8:s=e.sent,p(a.data.length),o(s.data.length),console.log(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(),console.log(N);case 2:case"end":return e.stop()}}),e)}))),[]);var s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=(n[0],n[1],Object(a.useState)([])),r=Object(b.a)(i,2),l=r[0],o=r[1],j=Object(a.useState)([]),h=Object(b.a)(j,2),m=h[0],p=h[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),N=v[0],g=v[1];return t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-info",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsxs)("h3",{children:[" ",m]}),Object(d.jsx)("p",{children:"Student Under me"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'staff_take_attendance' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-success",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" attendance_count"}),Object(d.jsx)("p",{children:"Total Attendance Taken"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'staff_take_attendance' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-warning",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" leave_count "}),Object(d.jsx)("p",{children:"Total Leave Taken"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'staff_apply_leave' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-danger",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" subject_count"}),Object(d.jsx)("p",{children:l})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"#",className:"small-box-footer",children:["\xa0",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-danger",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Attendance VS Leave Chart"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("canvas",{id:"pieChart",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})]})}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-success",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Attend Subject"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"barChart",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})})]})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsxs)("div",{className:"card card-info",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Student Attendance Data"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"barChart2",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})})]})})})]})})})}),Object(d.jsx)(ce,{})]})):Object(d.jsx)(u.a,{to:"/"})})),ie=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=[],c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],i=s[1],l=Object(a.useState)([]),o=Object(b.a)(l,2),j=o[0],u=o[1],h=Object(a.useState)([]),m=Object(b.a)(h,2),p=m[0],f=m[1],v=Object(a.useState)([]),N=Object(b.a)(v,2),g=(N[0],N[1]),y=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsubject/".concat($.getState().auth.user.id),t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 9:s=e.sent,u(c),i(a),f(s),console.log(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=document.getElementById("subject").value,document.getElementById("student_data").style.display="inline",a={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/suser/3",a);case 5:return s=e.sent,u(s),console.log("http://127.0.0.1:8000/api/getresult/".concat(c)),e.next=10,J.a.get("http://127.0.0.1:8000/api/getresult/".concat(c),a);case 10:n=e.sent,console.log(n),g(n),0,console.log(n.data),t=0!==n.data.length?n.data.map((function(e){return e.student_id})):j,console.log(t);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(O.a.mark((function e(t,c,a){var s,n,i,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},n=document.getElementById("subject").value,i=document.getElementById("session_year").value,l=t,d=c,o=a,j=JSON.stringify({subject_id:n,session_year_id:i,subject_exam_marks:l,subject_assignment_marks:d,student_id:o}),e.next=9,J.a.post("http://127.0.0.1:8000/api/addresult",j,s);case 9:200===e.sent.status?(r.b.success("Added Result Success"),document.getElementById("".concat(a,"_row")).style.display="none"):r.b.error("Error in adding result");case 11:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsxs)("div",{children:["Add Results",Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Add Results"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{className:"form-control",name:"subject",id:"subject",children:n.data?n.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.subject_name})})):Object(d.jsx)("option",{value:"",children:" No Subject Avilable"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Year"}),Object(d.jsx)("select",{className:"form-control",name:"session_year",id:"session_year",children:p.data?p.data.map((function(e){return Object(d.jsxs)("option",{value:e.id,children:[e.session_start_year," to ",e.session_end_year]})})):Object(d.jsx)("option",{value:"",children:"No Seesion year Avilable"})})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:_,id:"fetch_student",children:"Fetch Student"})}),Object(d.jsx)("div",{id:"student_data",style:{display:"none"},className:"card-footer",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Exam Mark "}),Object(d.jsx)("th",{children:"Assignment Mark"}),Object(d.jsx)("th",{children:"Action"})]})}),j.data?j.data.map((function(e){return Object(d.jsxs)("tr",{id:"".concat(e.id,"_row"),children:[Object(d.jsxs)("td",{children:[e.first_name," ",e.last_name]}),Object(d.jsxs)("td",{children:["80/",Object(d.jsx)("input",{type:"number",id:"".concat(e.id,"_exam")})]}),Object(d.jsxs)("td",{children:["20/",Object(d.jsx)("input",{type:"number",id:"".concat(e.id,"_ass")})]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn",id:"description",onClick:function(){return w(document.getElementById("".concat(e.id,"_exam")).value,document.getElementById("".concat(e.id,"_ass")).value,e.id)},children:"Add"})})]})})):Object(d.jsx)("p",{children:"No student data found"})]}),Object(d.jsx)("div",{className:"card-footer"})]})})]})})})})})})]})}),Object(d.jsx)(ce,{})]})})),re=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),N=(v[0],v[1],function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsubject/".concat($.getState().auth.user.id),t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 9:s=e.sent,j(c),n(a),p(s),console.log(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),g=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("student_data").style.display="inline",t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=4,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 4:c=e.sent,j(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},c=document.getElementById("subject").value,a=document.getElementById("session_year").value,s=JSON.stringify({subject_id:c,session_year_id:a}),console.log(s),e.next=7,J.a.post("http://127.0.0.1:8000/api/addattendance",s,t);case 7:200===(n=e.sent).status?(console.log(n),i=[],o.data.map((function(e){return document.getElementById("".concat(e.id)).checked?i.push({attendance_id:"".concat(n.data.id),student_id:"".concat(e.id),status:!0}):i.push({attendance_id:"".concat(n.data.id),student_id:"".concat(e.id),status:!1})})),i.map((function(e){return J.a.post("http://127.0.0.1:8000/api/addattendancereport",e,t)})),document.getElementById("student_data").style.display="none",r.b.success("Attendance recorded successfully")):r.b.error("Couldn't apply Leave  please try again later");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N()}),[]),Object(d.jsxs)("div",{className:"hold-transition sidebar-mini layout-fixed",children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Take Attendance"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{className:"form-control",name:"subject",id:"subject",children:s.data?s.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.subject_name})})):Object(d.jsx)("option",{value:"",children:" No Subject Avilable"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Year"}),Object(d.jsx)("select",{className:"form-control",name:"session_year",id:"session_year",children:m.data?m.data.map((function(e){return Object(d.jsxs)("option",{value:e.id,children:[e.session_start_year," to ",e.session_end_year]})})):Object(d.jsx)("option",{value:"",children:"No Seesion year Avilable"})})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:g,id:"fetch_student",children:"Fetch Student"})}),Object(d.jsx)("div",{id:"student_data",style:{display:"none"},className:"card-footer",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Status"})]})}),o.data?o.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[e.first_name," ",e.last_name]}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"checkbox",children:[Object(d.jsx)("input",{type:"checkbox",id:e.id,name:"present"}),Object(d.jsx)("label",{for:e.id,children:"Present"})]})})]})})):Object(d.jsx)("p",{children:"No student data found"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:y,id:"save_attendance",children:"Save Attendance"})})]})})]})})})})})})}),Object(d.jsx)(ce,{})]})})),le=Object(h.b)(null,{logout:F})((function(e){var t=e.logout,c=Object(a.useState)(!1),s=Object(b.a)(c,2),n=(s[0],s[1]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("meta",{charSet:"utf-8"}),Object(d.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),Object(d.jsx)("title",{children:"Hamro Gurukul|  Staff Panel"}),Object(d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700",rel:"stylesheet"}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",children:Object(d.jsx)("i",{className:"fas fa-bars"})})})}),Object(d.jsx)("h4",{style:{marginLeft:10,marginTop:5},children:"HamroGurukul | Staff Panel"}),Object(d.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link",href:"/",onClick:function(){t(),n(!0)},children:"Logout"})})})]}),Object(d.jsx)(se,{})]})]})})),de=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstaffnotification/".concat($.getState().auth.user.id),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"All Notifications"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsx)("div",{className:"input-group input-group-sm",style:{width:150},children:Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default"})})})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Notifications"}),Object(d.jsx)("th",{children:"Sent At"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.message}),Object(d.jsx)("td",{children:e.created_at})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No Notification Avilable"})})})})]})})]})})})})})})}),Object(d.jsx)(ce,{})]})})),oe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=[],c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],i=s[1],l=Object(a.useState)([]),o=Object(b.a)(l,2),j=o[0],u=o[1],h=Object(a.useState)([]),m=Object(b.a)(h,2),p=m[0],f=m[1],v=Object(a.useState)([]),N=Object(b.a)(v,2),g=N[0],y=N[1],_=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsubject/".concat($.getState().auth.user.id),t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 9:s=e.sent,u(c),i(a),f(s),console.log(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=document.getElementById("subject").value,document.getElementById("student_data").style.display="inline",a={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/suser/3",a);case 5:return s=e.sent,u(s),console.log("http://127.0.0.1:8000/api/getresult/".concat(c)),e.next=10,J.a.get("http://127.0.0.1:8000/api/getresult/".concat(c),a);case 10:n=e.sent,console.log(n),y(n),0,console.log(n.data),t=0!==n.data.length?n.data.map((function(e){return e.student_id})):j,console.log(t);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(O.a.mark((function e(t,c,a){var s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(typeof c,typeof a),console.log(t),""!==c&&(t.subject_exam_marks=+c),""!==a&&(t.subject_assignment_marks=+a),s={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=7,J.a.put("http://127.0.0.1:8000/api/editresult/".concat(t.id),t,s);case 7:200===(n=e.sent).status&&(r.b.success("Result updated successfully"),console.log(n),w(),document.getElementById("".concat(t.student_id,"_exam")).value="",document.getElementById("".concat(t.student_id,"_ass")).value="");case 9:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Edit Results"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{className:"form-control",name:"subject",id:"subject",children:n.data?n.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.subject_name})})):Object(d.jsx)("option",{value:"",children:" No Subject Avilable"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Year"}),Object(d.jsx)("select",{className:"form-control",name:"session_year",id:"session_year",children:p.data?p.data.map((function(e){return Object(d.jsxs)("option",{value:e.id,children:[e.session_start_year," to ",e.session_end_year]})})):Object(d.jsx)("option",{value:"",children:"No Seesion year Avilable"})})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:w,id:"fetch_student",children:"Fetch Student Marks"})}),Object(d.jsx)("div",{id:"student_data",style:{display:"none"},className:"card-footer",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Exam Mark "}),Object(d.jsx)("th",{children:"Assignment Mark"}),Object(d.jsx)("th",{children:"Action"})]})}),j.data?j.data.map((function(e){return g.data?g.data.map((function(t){return t.student_id===e.id?Object(d.jsxs)("tr",{id:"".concat(e.id,"_row"),children:[Object(d.jsxs)("td",{children:[e.first_name," ",e.last_name]}),Object(d.jsxs)("td",{children:["80/",Object(d.jsx)("input",{type:"number",id:"".concat(e.id,"_exam"),placeholder:"".concat(t.subject_exam_marks)})]}),Object(d.jsxs)("td",{children:["20/",Object(d.jsx)("input",{type:"number",id:"".concat(e.id,"_ass"),placeholder:"".concat(t.subject_assignment_marks)})]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn",id:"description",onClick:function(){return A(t,document.getElementById("".concat(e.id,"_exam")).value,document.getElementById("".concat(e.id,"_ass")).value)},children:"update"})})]}):null})):Object(d.jsx)("tr",{children:Object(d.jsx)("p",{children:"No student Datas found"})})})):Object(d.jsx)("p",{children:"No student data found"})]}),Object(d.jsx)("div",{className:"card-footer"})]})})]})})})})})})})}),Object(d.jsx)(ce,{})]})})),je=function(){return $.getState().auth.user.id},be=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstaffleave/".concat(je()),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("leave_date").value,c=document.getElementById("leave_message").value,a=je(),s={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},n=JSON.stringify({leave_date:t,leave_message:c,staff_id:a}),console.log(n),e.next=8,J.a.post("http://127.0.0.1:8000/api/addstaffleave",n,s);case 8:200===e.sent.status?(r.b.success("Leave request added successfully Please wait for admin to approve it"),document.getElementById("leave_date").value="",document.getElementById("leave_message").value="",i()):r.b.error("Couldn't apply Leave  please try again later");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Apply for Leave"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Leave Date "}),Object(d.jsx)("input",{type:"date",name:"leave_date",id:"leave_date",className:"form-control",placeholder:"Leave Date"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Leave Reason"}),Object(d.jsx)("textarea",{className:"form-control",id:"leave_message",rows:6,name:"leave_msg",defaultValue:""})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{onClick:l,className:"btn btn-primary btn-block",id:"fetch_student",children:"Apply for Leave"})})]})]}),Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Leave Apply History"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Leave Date"}),Object(d.jsx)("th",{children:"Leave Message"}),Object(d.jsx)("th",{children:"Leave Status"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.leave_date}),Object(d.jsx)("td",{children:e.leave_message}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{className:"alert alert-success",style:{display:1===e.leave_status?"flex":"none"},children:"Approved"}),Object(d.jsx)("span",{className:"alert alert-danger",style:{display:2===e.leave_status?"flex":"none"},children:"Rejected"}),Object(d.jsx)("span",{className:"alert alert-info",style:{display:0===e.leave_status?"flex":"none"},children:"Pending"})]})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No leave History found"})})]})})})]})]})})})})})}),Object(d.jsx)(ce,{})]})})),ue=function(){return $.getState().auth.user.id},he=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstafffeedback/".concat(ue()),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("feedback_message").value,c=ue(),a={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},s=JSON.stringify({feedback:t,staff_id:c}),console.log(s),e.next=7,J.a.post("http://127.0.0.1:8000/api/addstafffeedback",s,a);case 7:200===e.sent.status?(r.b.success("Feeb Back added successfully"),document.getElementById("feedback_message").value="",i()):r.b.error("Couldn't add feedback please try again later");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Leave a Feedback Message"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Feedback Message"}),Object(d.jsx)("textarea",{className:"form-control",id:"feedback_message",rows:6,name:"feedback_msg",defaultValue:""})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:l,children:"Leave a Feedback Message"})})]})]}),Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Feedback History"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Feedback Message"}),Object(d.jsx)("th",{children:"Feedback Reply"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.feedback}),Object(d.jsx)("td",{children:e.feedback_reply})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No feedback  History found"})})]})})})]})]})})})})})}),Object(d.jsx)(ce,{})]})})),me=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){var t=e.logout,c=e.isAuthenticated,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=(n[0],n[1]);return c?(console.log("chor haina ma "),Object(d.jsxs)("div",{className:"hold-transition sidebar-mini layout-fixed",children:[Object(d.jsx)("meta",{charSet:"utf-8"}),Object(d.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),Object(d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700",rel:"stylesheet"}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",children:Object(d.jsx)("i",{className:"fas fa-bars"})})})}),Object(d.jsx)("h4",{style:{marginLeft:10,marginTop:5},children:"Gurukul | Staff Panel"}),Object(d.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link",href:"/",onClick:function(){t(),i(!0)},children:"Logout"})})})]}),Object(d.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(d.jsxs)("a",{href:!0,className:"brand-link",children:[Object(d.jsx)("strong",{children:"logo"}),Object(d.jsx)("span",{className:"brand-text font-weight-light",children:"AdminLTE 3"})]}),Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("strong",{children:"img"})}),Object(d.jsx)("div",{className:"info",children:Object(d.jsx)("a",{href:"{% url 'staff_profile' %}",className:"d-block",children:"User Name"})})]}),Object(d.jsx)("nav",{className:"mt-2",children:Object(d.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffhome",role:"button",children:"Home"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/safftakeattendance",children:" Take Attendance "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffupdateattendance",children:" View Update Attendance "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"staffapplyleave",children:" Apply Leave "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/stafffeedback",children:" Feedback "})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"staffaddresult",children:" Add Result"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffeditresult",role:"button",children:"Edit Result"})})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)("a",{href:"#",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:"/staffnotification",children:" Notifications "})})]})})]})})]})]}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsxs)("div",{children:["Edit Profile",Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Edit Profile"})}),Object(d.jsxs)("form",{role:"form",action:"{% url 'staff_profile_save' %}",method:"post",children:["{","% csrf_token %","}",Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"username",defaultValue:"{{ user.username }}",disabled:"disabled"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"username",defaultValue:"{{ user.email }}",disabled:"disabled"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"First Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"first_name",defaultValue:"{{ user.first_name }}"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Last Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"last_name",defaultValue:"{{ user.last_name }}"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Address"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"address",defaultValue:"{{ staff.address }}"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Change Password?"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"password",placeholder:"Fill Only If You want to Change Password"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"alert alert-danger",style:{marginTop:10},children:"message"}),Object(d.jsx)("div",{className:"alert alert-success",style:{marginTop:10},children:"message"})]})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Save Profile"})})]})]})})})})})]})}),Object(d.jsx)(ce,{})]})]})):Object(d.jsx)(u.a,{to:"/"})})),Oe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)([]),_=Object(b.a)(y,2),w=_[0],A=_[1],S=Object(a.useState)([]),k=Object(b.a)(S,2),I=k[0],C=k[1],E=Object(a.useState)([]),T=Object(b.a)(E,2),L=T[0],W=T[1],D=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("attendance_date").value,console.log(t),c={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/getattendancereport/".concat(t),c);case 5:return a=e.sent,e.next=8,J.a.get("http://127.0.0.1:8000/api/suser/3",c);case 8:s=e.sent,console.log(a),C(a),W(s),document.getElementById("student_data").style.display="inline";case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n,i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("session_year_id").value,c=document.getElementById("subject").value,{headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/getattendancedate/".concat(c,"/").concat(t));case 5:a=e.sent,g(a),N.data&&(s=document.getElementById("attendance_block"),n=document.getElementById("error_attendance"),i=document.getElementById("fetch_student_block"),r=N.data.map((function(e){return console.log(e.id),Object(d.jsx)("option",{value:e.id,children:e.attendance_date})})),A(r),console.log(w),w?(s.style.display="flex",i.style.display="flex"):n.style.display="flex");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewsubject",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/getattendance",t);case 9:s=e.sent,p(s),n(c),j(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(O.a.mark((function e(t,c){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},console.log(t,c),t.status=c,e.next=5,J.a.put("http://127.0.0.1:8000/api/editattendance/".concat(t.id),t,a);case 5:200===e.sent.status?(r.b.success("Attendance updated success"),document.getElementById("".concat(t.id)).checked=!1,D()):r.b.error("Sprry update cant be done now try again later");case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){R()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(le,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"View Attendance"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{className:"form-control",name:"subject",id:"subject",children:m.data?m.data.map((function(e){return s.data?s.data.map((function(t){return t.id===e.subject_id?Object(d.jsx)("option",{id:"sub",value:e.subject_id,children:t.subject_name}):null})):null})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Year "}),Object(d.jsx)("select",{className:"form-control",name:"session_year_id",id:"session_year_id",children:m.data?m.data.map((function(e){return o.data?o.data.map((function(t){return t.id===e.session_year_id?Object(d.jsxs)("option",{id:"sesionyr",value:e.session_year_id,children:[t.session_start_year," ",t.session_end_year]}):null})):null})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",id:"fetch_attendance",onClick:F,children:"Fetch Attendance Date"})}),Object(d.jsxs)("div",{className:"form-group",id:"attendance_block",style:{display:"none"},children:[Object(d.jsx)("label",{children:"Attendance Date "}),Object(d.jsx)("select",{className:"form-control",name:"attendance_date",id:"attendance_date",children:w?w.map((function(e){return e})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("div",{className:"alert alert-danger",id:"error_attendance",style:{display:"none"}})}),Object(d.jsx)("div",{className:"form-group",id:"fetch_student_block",style:{display:"none"},children:Object(d.jsx)("button",{type:"button",onClick:D,className:"btn btn-primary btn-block",id:"fetch_student",children:"Fetch Student Data"})})]}),Object(d.jsx)("div",{id:"student_data",className:"card-footer",style:{display:"none"},children:Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("table",{className:"table"}),Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"previous Status"}),Object(d.jsx)("th",{children:"New Status"}),Object(d.jsx)("th",{children:"Action"})]}),I.data?I.data.map((function(e){return L.data?L.data.map((function(t){return t.id===e.student_id?Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[t.first_name," ",t.last_name]}),Object(d.jsx)("td",{children:!0===e.status?"Present":"Absent"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{type:"checkbox",id:"".concat(e.id),name:"present"}),"Present"]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn-primary",id:"description",onClick:function(){return B(e,document.getElementById("".concat(e.id)).checked?"true":"false")},children:"update"})})]}):null})):Object(d.jsx)("td",{children:"No Students attendance data avilable"})})):Object(d.jsx)("td",{children:"No Attemdance data Avilable For Selected date"})]})]})})]})})})})})}),Object(d.jsx)(ce,{})]})})),xe=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(){return Object(Q.a)(this,c),t.apply(this,arguments)}return Object(Z.a)(c,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("footer",{className:"main-footer",children:[Object(d.jsxs)("strong",{children:["Copyright \xa9 2021",Object(d.jsx)("a",{href:"http://kcc.edu.np",children:"Kantipur City College"}),"."]}),"All rights reserved."]})})}}]),c}(a.Component),pe=function(){var e=$.getState();return"".concat(e.auth.user.first_name," ").concat(e.auth.user.last_name)},fe=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(d.jsx)("a",{href:!0,className:"brand-link",children:Object(d.jsx)("span",{className:"brand-text font-weight-light",children:"AdminLTE 3"})}),Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsx)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:Object(d.jsx)("div",{className:"info",children:Object(d.jsxs)("a",{href:"#",className:"d-block",children:[pe()," "]})})}),Object(d.jsx)("nav",{className:"mt-2",children:Object(d.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studenthome",className:"nav-link",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Home"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentviewattendance",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"View All  Attendance"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentapplyleave",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Apply for Leave"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentfeedback",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Feedback Message"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentviewresult",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Grade Card"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentviewnotification",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Notifications"})]})})]})})]})]})})},ve=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){var t=e.logout,c=e.isAuthenticated,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=(n[0],n[1]);return c?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("meta",{charSet:"utf-8"}),Object(d.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),Object(d.jsx)("title",{children:"Hamro Gurukul|  Student Panel"}),Object(d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700",rel:"stylesheet"}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",children:Object(d.jsx)("i",{className:"fas fa-bars"})})})}),Object(d.jsx)("h4",{style:{marginLeft:10,marginTop:5},children:"HamroGurukul | Student Panel"}),Object(d.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link",href:"/",onClick:function(){t(),i(!0)},children:"Logout"})})})]}),Object(d.jsx)(fe,{})]})]})):Object(d.jsx)(u.a,{to:"/"})})),Ne=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)(!1),s=Object(b.a)(c,2);s[0],s[1];return t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsxs)("section",{className:"content",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-info",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" total_attendance "}),Object(d.jsx)("p",{children:"Total Attendance"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'student_view_attendance' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-success",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" attendance_absent "}),Object(d.jsx)("p",{children:"Absent"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'student_view_attendance' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-warning",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:"attendance_present "}),Object(d.jsx)("p",{children:"Present"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-stats-bars"})}),Object(d.jsxs)("a",{href:"{% url 'student_view_attendance' %}",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-danger",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:" subjects "}),Object(d.jsx)("p",{children:"Total Subjects"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-pie-graph"})}),Object(d.jsx)("a",{href:"#",className:"small-box-footer",children:"\xa0"})]})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-danger",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Attendance Chart"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("canvas",{id:"pieChart",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})]})}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-success",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Attendance Statistics"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"barChart",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})})]})})]})]})}),Object(d.jsx)(xe,{})]})):Object(d.jsx)(u.a,{to:"/"})})),ge=function(){return $.getState().auth.user.id},ye=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstudentleave/".concat(ge()),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("leave_date").value,c=document.getElementById("leave_message").value,a=ge(),s={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},n=JSON.stringify({leave_date:t,leave_message:c,student_id:a}),console.log(n),e.next=8,J.a.post("http://127.0.0.1:8000/api/addstudentleave",n,s);case 8:200===e.sent.status?(r.b.success("Leave request added successfully Please wait for admin to approve it"),document.getElementById("leave_date").value="",document.getElementById("leave_message").value="",i()):r.b.error("Couldn't apply Leave  please try again later");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Apply for Leave"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Leave Date "}),Object(d.jsx)("input",{type:"date",name:"leave_date",id:"leave_date",className:"form-control",placeholder:"Leave Date"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Leave Reason"}),Object(d.jsx)("textarea",{className:"form-control",id:"leave_message",rows:6,name:"leave_msg",defaultValue:""})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{onClick:l,className:"btn btn-primary btn-block",id:"fetch_student",children:"Apply for Leave"})})]})]}),Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Leave Apply History"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Leave Date"}),Object(d.jsx)("th",{children:"Leave Message"}),Object(d.jsx)("th",{children:"Leave Status"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.leave_date}),Object(d.jsx)("td",{children:e.leave_message}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{className:"alert alert-success",style:{display:1===e.leave_status?"flex":"none"},children:"Approved"}),Object(d.jsx)("span",{className:"alert alert-danger",style:{display:2===e.leave_status?"flex":"none"},children:"Rejected"}),Object(d.jsx)("span",{className:"alert alert-info",style:{display:0===e.leave_status?"flex":"none"},children:"Pending"})]})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No leave History found"})})]})})})]})]})})})})})}),Object(d.jsx)(xe,{})]})})),_e=function(){return $.getState().auth.user.id},we=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),r=Object(b.a)(i,2),l=r[0],o=r[1],j=Object(a.useState)([]),u=Object(b.a)(j,2),h=u[0],m=u[1],p=Object(a.useState)([]),f=Object(b.a)(p,2),v=f[0],N=f[1],g=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getattendancereportbi/".concat(_e()),t);case 3:return c=e.sent,o(c),e.next=7,J.a.get("http://127.0.0.1:8000/api/usesid/".concat(_e()),t);case 7:return a=e.sent,N(a),e.next=11,J.a.get("http://127.0.0.1:8000/api/viewsubject",t);case 11:return s=e.sent,m(s),e.next=15,J.a.get("http://127.0.0.1:8000/api/getattendance",t);case 15:i=e.sent,n(i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"View Attendance"})}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"row",children:s.data?s.data.map((function(e){return e.student_id===v.id?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"col-lg-3 attendance_div_green",children:[Object(d.jsxs)("b",{children:["Date: ",e.attendance_date]}),Object(d.jsx)("br",{}),h.data?h.data.map((function(t){return Object(d.jsx)(d.Fragment,{children:e.subject_id===t.id?Object(d.jsxs)("b",{children:["Subject: ",t.subject_name]}):null})})):null,l.data?l.data.map((function(t){return t.attendance_id===e.id?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsxs)("b",{children:[" Present : ",!0===t.status?"Yes":"No"," "]})]}):null})):null]})}):null})):Object(d.jsx)(d.Fragment,{children:"No attendance Avilable"})})})]})})})})})}),Object(d.jsx)(xe,{})]})})),Ae=function(){return $.getState().auth.user.id},Se=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstudentfeedback/".concat(Ae()),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("feedback_message").value,c=Ae(),a={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},s=JSON.stringify({feedback:t,student_id:c}),console.log(s),e.next=7,J.a.post("http://127.0.0.1:8000/api/addstudentfeedback",s,a);case 7:200===e.sent.status?(r.b.success("Feeb Back added successfully"),document.getElementById("feedback_message").value="",i()):r.b.error("Couldn't add feedback please try again later");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-12",children:[Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Leave a Feedback Message"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Feedback Message"}),Object(d.jsx)("textarea",{className:"form-control",id:"feedback_message",rows:6,name:"feedback_msg",defaultValue:""})]}),Object(d.jsx)("div",{className:"form-group"})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:l,children:"Leave a Feedback Message"})})]})]}),Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Feedback History"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Feedback Message"}),Object(d.jsx)("th",{children:"Feedback Reply"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.feedback}),Object(d.jsx)("td",{children:e.feedback_reply})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No feedback  History found"})})]})})})]})]})})})})})}),Object(d.jsx)(xe,{})]})})),ke=function(){return $.getState().auth.user.id},Ie=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),r=Object(b.a)(i,2),l=r[0],o=r[1],j=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getresults/".concat(ke()),t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsubject",t);case 6:a=e.sent,o(a),n(c),console.log(c),console.log("http://127.0.0.1:8000/api/getresults/".concat(ke));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Result"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Subject"}),Object(d.jsx)("th",{children:"Assignment Marks"}),Object(d.jsx)("th",{children:"Exam Marks"}),Object(d.jsx)("th",{children:"Status"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:l.data?l.data.map((function(t){return t.id===e.subject_id?"".concat(t.subject_name):null})):"Couldn't load subject name"}),Object(d.jsx)("td",{children:e.subject_assignment_marks}),Object(d.jsx)("td",{children:e.subject_exam_marks}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{className:"alert alert-success",style:{display:e.subject_assignment_marks>=12&&e.subject_exam_marks>=32?"flex":"none"},children:"PASS"}),Object(d.jsx)("span",{className:"alert alert-danger",style:{display:e.subject_assignment_marks>=12&&e.subject_exam_marks>=32?"none":"flex"},children:"FAIL"})]})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No Result Data Avilable"})})]})})})]})})})})})}),Object(d.jsx)(xe,{})]})})),Ce=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)(!1),s=Object(b.a)(c,2);s[0],s[1];return t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{classname:"content",children:Object(d.jsx)("div",{classname:"container-fluid",children:Object(d.jsx)("div",{classname:"row",children:Object(d.jsx)("div",{classname:"col-md-12",children:Object(d.jsxs)("div",{classname:"card card-primary",children:[Object(d.jsx)("div",{classname:"card-header",children:Object(d.jsx)("h3",{classname:"card-title",children:"View Attendance"})}),Object(d.jsx)("form",{action:"{% url 'student_view_attendance_post' %}",method:"post",children:Object(d.jsxs)("div",{classname:"card-body",children:[Object(d.jsxs)("div",{classname:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{classname:"form-control",name:"subject",id:"subject",children:Object(d.jsx)("option",{value:"{{ subject.id }}",children:" subject.subject_name "})})]}),Object(d.jsxs)("div",{classname:"row",children:[Object(d.jsx)("div",{classname:"col-lg-6",children:Object(d.jsxs)("div",{classname:"form-group",children:[Object(d.jsx)("label",{children:"Start Date"}),Object(d.jsx)("input",{type:"date",name:"start_date",classname:"form-control",placeholder:"Start Date"})]})}),Object(d.jsx)("div",{classname:"col-lg-6",children:Object(d.jsxs)("div",{classname:"form-group",children:[Object(d.jsx)("label",{children:"End Date"}),Object(d.jsx)("input",{type:"date",name:"end_date",classname:"form-control",placeholder:"End Date"})]})})]}),Object(d.jsxs)("div",{classname:"form-group",children:[Object(d.jsx)("div",{classname:"alert alert-danger",children:" message "}),Object(d.jsx)("div",{classname:"alert alert-success",children:"message "})]}),Object(d.jsx)("div",{classname:"card-footer",children:Object(d.jsx)("button",{type:"submit",classname:"btn btn-primary btn-block",id:"fetch_student",children:"Fetch Attendance"})}),Object(d.jsx)("div",{id:"student_data",classname:"card-footer"})]})})]})})})})})}),Object(d.jsx)(xe,{})]})):Object(d.jsx)(u.a,{to:"/"})})),Ee=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstudentnotification/".concat($.getState().auth.user.id),t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini layout-fixed",children:Object(d.jsx)(ve,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"All Notifications"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsx)("div",{className:"input-group input-group-sm",style:{width:150},children:Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default"})})})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Notifications"}),Object(d.jsx)("th",{children:"Sent At"})]})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:s.data?s.data.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{children:e.message}),Object(d.jsx)("td",{children:e.created_at})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:"No Notification Avilable"})})})})]})})]})})})})})})}),Object(d.jsx)(xe,{})]})})),Te=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(){return Object(Q.a)(this,c),t.apply(this,arguments)}return Object(Z.a)(c,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("footer",{className:"main-footer",children:[Object(d.jsxs)("strong",{children:["Copyright \xa9 2021 ",Object(d.jsx)("a",{href:"http://kcc.edu.np",children:"Kantipur City College"}),"."]}),"All rights reserved."]})})}}]),c}(a.Component),Le=function(){var e=$.getState();return"".concat(e.auth.user.first_name," ").concat(e.auth.user.last_name)},Je=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",style:{overflowY:"scroll",overflowX:"auto"},children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("a",{href:!0,className:"brand-link",children:Object(d.jsx)("span",{className:"brand-text font-weight-light",children:"AdminLTE 3"})}),Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsx)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:Object(d.jsx)("div",{className:"info",children:Object(d.jsxs)("a",{href:"#",className:"d-block",children:[Le()," "]})})}),Object(d.jsx)("nav",{className:"mt-2",children:Object(d.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/adminhome",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Home"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/addstaff",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Add Staff"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/managestaff",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Manage Staff"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/addstudent",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Add Student"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/managestudent",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Manage Students"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/addcourse",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Add Course"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/managecourse",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Manage Course"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/addsubject",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Add Subject"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/managesubject",className:"nav-link  ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Manage Subject"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/managesession",className:"nav-link  ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Manage Session Year"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"studentfeedbackadmin",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Student Feedback"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/stafffeedbackadmin",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Staff Feedback"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/studentleaveadmin",className:"nav-link",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Student Leave"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/staffleaveadmin",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Staff Leave"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/adminviewhajir",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"View Attendance"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/ssna",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Send Staff Notification"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(l.b,{to:"/sstna",className:"nav-link ",children:[Object(d.jsx)("i",{className:"nav-icon fas fa-th"}),Object(d.jsx)("p",{children:"Send Student Notification"})]})})]})})]})]})})})},We=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){var t=e.logout,c=e.isAuthenticated,s=Object(a.useState)(!1),n=Object(b.a)(s,2),i=(n[0],n[1]);return c?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("meta",{charSet:"utf-8"}),Object(d.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),Object(d.jsx)("title",{children:"Hamro Gurukul|  Admin Panel"}),Object(d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700",rel:"stylesheet"}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",children:Object(d.jsx)("i",{className:"fas fa-bars"})})})}),Object(d.jsx)("h4",{style:{marginLeft:10,marginTop:5},children:"HamroGurukul | Admin Panel"}),Object(d.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link",href:"/",onClick:function(){t(),i(!0)},children:"Logout"})})})]}),Object(d.jsx)(Je,{})]})]})):Object(d.jsx)(u.a,{to:"/"})})),De=c(101),Fe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)(0),s=Object(b.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)(0),o=Object(b.a)(r,2),j=o[0],h=o[1],m=Object(a.useState)(0),p=Object(b.a)(m,2),f=p[0],v=p[1],N=Object(a.useState)(0),g=Object(b.a)(N,2),y=g[0],_=g[1],w={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},A=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("http://127.0.0.1:8000/api/suser/3",w);case 2:return t=e.sent,e.next=5,J.a.get("http://127.0.0.1:8000/api/suser/2",w);case 5:return c=e.sent,e.next=8,J.a.get("http://127.0.0.1:8000/api/viewcourses",w);case 8:return a=e.sent,e.next=11,J.a.get("http://127.0.0.1:8000/api/viewsubject",w);case 11:s=e.sent,i(c.data.length),h(t.data.length),v(a.data.length),_(s.data.length);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){A()}),[]);var S=Object(a.useState)(!1),k=Object(b.a)(S,2);k[0],k[1];if(!t)return Object(d.jsx)(u.a,{to:"/"});console.log("chor haina ma ");var I=[{data:[n,j],backgroundColor:["red","blue"]}];return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-info",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsxs)("h3",{children:[" ",j," "]}),Object(d.jsx)("p",{children:"Total Students"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-pie-graph"})}),Object(d.jsxs)(l.b,{to:"#",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-success",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsxs)("h3",{children:[" ",n]}),Object(d.jsx)("p",{children:"Total Staffs"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-pie-graph"})}),Object(d.jsxs)(l.b,{to:"#",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-warning",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsx)("h3",{children:f}),Object(d.jsx)("p",{children:"Total Course"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-pie-graph"})}),Object(d.jsxs)(l.b,{to:"#",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(d.jsx)("div",{className:"col-lg-3 col-6",children:Object(d.jsxs)("div",{className:"small-box bg-danger",children:[Object(d.jsxs)("div",{className:"inner",children:[Object(d.jsxs)("h3",{children:[" ",y," "]}),Object(d.jsx)("p",{children:"Total Subject"})]}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("i",{className:"ion ion-pie-graph"})}),Object(d.jsxs)(l.b,{to:"#",className:"small-box-footer",children:["More info ",Object(d.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-danger",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Student and Staff Chart"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)(De.a,{data:{labels:["Staff","Students"],datasets:I},minHeight:"250",height:"250",maxHeight:"250",maxWidth:"100%"})})]})}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-success",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Total Subject in Each Courses"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("canvas",{id:"donutChart",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})]})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-info",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Total Student in Each Course"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("canvas",{id:"pieChart3",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})]})}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("div",{className:"card card-warning",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Total Student in Each Subject"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("canvas",{id:"pieChart4",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})]})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsxs)("div",{className:"card card-success",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Staff Leaves vs Attendance"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"barChart1",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})})]})})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsxs)("div",{className:"card card-success",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Student Leaves vs Attendance"}),Object(d.jsxs)("div",{className:"card-tools",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(d.jsx)("i",{className:"fas fa-minus"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(d.jsx)("i",{className:"fas fa-times"})})]})]}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"barChart2",style:{minHeight:250,height:250,maxHeight:250,maxWidth:"100%"}})})})]})})})]})})}),Object(d.jsx)(Te,{})]})})),Re=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:D})((function(e){var t=e.signup,c=(e.isAuthenticated,Object(a.useState)(!1)),s=Object(b.a)(c,2),n=(s[0],s[1]),i=Object(a.useState)({first_name:"",last_name:"",email:"",password:"",re_password:"",user_types:"",gender:""}),r=Object(b.a)(i,2),l=r[0],u=r[1],h=l.first_name,m=l.last_name,O=l.email,x=l.password,p=l.re_password,f=(l.user_types,l.gender),v=(l.course_id,l.session_year_id,function(e){return u(Object(j.a)(Object(j.a)({},l),{},Object(o.a)({},e.target.name,e.target.value)))});return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h2",{className:"card-title",children:"Add a new Staff"})}),Object(d.jsxs)("div",{className:"container mt-5",children:[Object(d.jsx)("p",{children:"Create New  Account For your staff"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),x===p&&(t(h,m,O,"P@$$w0rd123","P@$$w0rd123","2",f,"0","0"),n(!0))}(e)},children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:h,onChange:function(e){return v(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:m,onChange:function(e){return v(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:O,onChange:function(e){return v(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",id:"gender",onChange:function(e){console.log(e.target.value,e.target.name),u(Object(j.a)(Object(j.a)({},l),{},Object(o.a)({},e.target.name,e.target.value))),console.log(l)},children:[Object(d.jsx)("option",{value:"0",children:"M"}),Object(d.jsx)("option",{value:"1",children:"F"})]})}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(d.jsx)("p",{className:"mt-3"})]})]})})})})})}),Object(d.jsx)(Te,{})]})})),Be=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:D})((function(e){var t=e.signup,c=(e.isAuthenticated,Object(a.useState)(!1)),s=Object(b.a)(c,2),n=(s[0],s[1]),i=Object(a.useState)([]),r=Object(b.a)(i,2),l=r[0],u=r[1],h=Object(a.useState)([]),m=Object(b.a)(h,2),p=(m[0],m[1]),f=Object(a.useState)({first_name:"",last_name:"",email:"",password:"",re_password:"",user_types:"",gender:"",course:""}),v=Object(b.a)(f,2),N=v[0],g=v[1],y=N.first_name,_=N.last_name,w=N.email,A=N.password,S=N.re_password,k=N.user_types,I=N.gender,C=N.course,E=function(e){return g(Object(j.a)(Object(j.a)({},N),{},Object(o.a)({},e.target.name,e.target.value)))},T=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewcourses",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 6:a=e.sent,u(c),p(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("Hey i am calling"),T(),console.log(l)}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h2",{className:"card-title",children:"Add a new Student"})}),Object(d.jsxs)("div",{className:"container mt-5",children:[Object(d.jsx)("p",{children:"Create New  Account For your student"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(y,_,w,A,S,k,I),A===S&&(t(y,_,w,"P@$$w0rd123","P@$$w0rd123","3",I,C),n(!0))}(e)},children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:y,onChange:function(e){return E(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:_,onChange:function(e){return E(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:w,onChange:function(e){return E(e)},required:!0})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",id:"course",name:"course",onChange:function(e){console.log(e.target.value,e.target.name),g(Object(j.a)(Object(j.a)({},N),{},Object(o.a)({},e.target.name,e.target.value))),console.log(N)},children:[Object(d.jsx)("option",{children:"Select Courses"}),l.data?l.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.course_name})})):Object(d.jsx)("option",{children:"N/A"})]})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",id:"gender",name:"gender",onChange:function(e){console.log(e.target.value,e.target.name),g(Object(j.a)(Object(j.a)({},N),{},Object(o.a)({},e.target.name,e.target.value))),console.log(N)},children:[Object(d.jsx)("option",{children:"Select Gender"}),Object(d.jsx)("option",{value:"0",children:"M"}),Object(d.jsx)("option",{value:"1",children:"F"})]})}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(d.jsx)("p",{className:"mt-3"})]})]})})})})})}),Object(d.jsx)(Te,{})]})})),ze=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)(!1),o=Object(b.a)(r,2),j=(o[0],o[1],function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 3:c=e.sent,console.log("Hey ia m called"),i(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){console.log("Hey i am calling"),j()}),[]),console.log(n),t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Staff Details"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:n.data?n.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.first_name," "]}),Object(d.jsxs)("td",{children:[" ",e.last_name," "]}),Object(d.jsxs)("td",{children:[" ",e.email," "]}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})]})})]})})})})})}),Object(d.jsx)(Te,{})]})):Object(d.jsx)(u.a,{to:"/"})})),Me=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)([]),o=Object(b.a)(r,2),j=o[0],h=o[1],m=Object(a.useState)(!1),p=Object(b.a)(m,2),f=(p[0],p[1],function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("http://127.0.0.1:8000/api/suser/3");case 2:return t=e.sent,e.next=5,J.a.get("http://127.0.0.1:8000/api/viewcourses");case 5:c=e.sent,h(c),console.log("Hey ia m called"),console.log(t),i(t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){console.log("Hey i am calling"),f()}),[]),t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Student Details"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Gender"}),Object(d.jsx)("th",{children:"Course"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:n.data?n.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[e.id?e.id:"N/A"," "]}),Object(d.jsxs)("td",{children:[e.first_name?e.first_name:"N/A"," "]}),Object(d.jsxs)("td",{children:[e.last_name?e.last_name:"N/A"," "]}),Object(d.jsxs)("td",{children:[e.email?e.email:"N/A"," "]}),Object(d.jsxs)("td",{children:[e.address?e.address:"N/A"," "]}),Object(d.jsxs)("td",{children:[e.gender?e.gender:"N/A"," "]}),Object(d.jsxs)("td",{children:[j.data?j.data.map((function(t){return t.id==e.course?t.course_name:null})):"N/A"," "]}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"id "}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:" N/A "}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})]})})]})})})})})}),Object(d.jsx)(Te,{})]})):Object(d.jsx)(u.a,{to:"/"})})),Pe=(c(242),c(243),Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout;var t=e.isAuthenticated,c=Object(a.useState)({course_name:""}),s=Object(b.a)(c,2),n=s[0],i=s[1],l=n.course_name,h=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},a=JSON.stringify({course_name:l}),e.next=5,J.a.post("http://localhost:8000/api/addcourses",a,c);case 5:200===e.sent.status?r.b.success("New Course ".concat(l," added sucessfully")):r.b.error("Couldn't add ".concat(l," please try again later"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?(console.log("chor haina ma "),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Add Course"})}),Object(d.jsxs)("form",{onSubmit:function(e){return h(e)},children:[Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Course Name "}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"course_name",placeholder:"Enter Course",value:l,onChange:function(e){return function(e){return i(Object(j.a)(Object(j.a)({},n),{},Object(o.a)({},e.target.name,e.target.value)))}(e)},required:!0})]})}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Add Course"})})]})]})})})})})}),Object(d.jsx)(Te,{})]})):Object(d.jsx)(u.a,{to:"/"})}))),He=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewcourses",t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Course Details"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Course Name"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.course_name," "]}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})]})})]})})})})})}),Object(d.jsx)(Te,{})]})})),qe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),u=l[0],h=l[1],m=Object(a.useState)({course_id:"",staff_id:"",subject_name:""}),p=Object(b.a)(m,2),f=p[0],v=p[1],N=(f.course_id,f.staff_id,f.subject_name),g=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewcourses",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 6:a=e.sent,n(c),h(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g()}),[]);var y=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},a=JSON.stringify(Object(j.a)({},f)),r.b.success("".concat(a)),console.log(a),e.next=7,J.a.post("http://localhost:8000/api/addsubject",a,c);case 7:200===(s=e.sent).status?r.b.success("".concat(s.data)):r.b.error("Couldn't add ".concat(N," please try again later"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Add Subject"})}),Object(d.jsxs)("form",{onSubmit:function(e){return y(e)},children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject Name "}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"subject_name",placeholder:"Enter Subject",value:N,onChange:function(e){return function(e){return v(Object(j.a)(Object(j.a)({},f),{},Object(o.a)({},e.target.name,e.target.value)))}(e)},required:!0})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Course "}),Object(d.jsxs)("select",{className:"form-control",name:"course_id",onChange:function(e){console.log(e.target.value,e.target.name),v(Object(j.a)(Object(j.a)({},f),{},Object(o.a)({},e.target.name,e.target.value))),console.log(f)},required:!0,children:[Object(d.jsx)("option",{children:"Select Course name"}),s.data?s.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.course_name})})):Object(d.jsx)("option",{children:"N/A"})]})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Staff"}),Object(d.jsxs)("select",{className:"form-control",name:"staff_id",onChange:function(e){console.log(e.target.value,e.target.name),v(Object(j.a)(Object(j.a)({},f),{},Object(o.a)({},e.target.name,e.target.value))),console.log(f)},required:!0,children:[Object(d.jsx)("option",{children:"Select Staff"}),u.data?u.data.map((function(e){return Object(d.jsx)("option",{name:"staff_id",value:e.id,children:"".concat(e.first_name," ").concat(e.last_name)})})):Object(d.jsx)("option",{children:"N/A"})]})]})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Add Subject"})})]})]})})})})})}),Object(d.jsx)(Te,{})]})})),Ue=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),r=Object(b.a)(i,2),o=r[0],j=r[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewsubject",t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 3:return c=e.sent,j(c),e.next=7,J.a.get("http://127.0.0.1:8000/api/viewcourses",t);case 7:a=e.sent,p(a),f();case 10:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Subject Details"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Subject Name"}),Object(d.jsx)("th",{children:"Course Name"}),Object(d.jsx)("th",{children:"Course ID"}),Object(d.jsx)("th",{children:"Staff Name"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.subject_name}),Object(d.jsx)("td",{children:m.data.map((function(t){return t.id===e.course_id?t.course_name:""}))}),Object(d.jsx)("td",{children:e.course_id}),Object(d.jsx)("td",{children:o.data.map((function(t){return t.id===e.staff_id?"".concat(t.first_name," ").concat(t.last_name):""}))}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{to:"#",className:"btn btn-success",children:"Edit"})})]})})]})})]})})})})})}),Object(d.jsx)(Te,{})]})})),Ve=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)({session_start_year:"",session_end_year:""}),c=Object(b.a)(t,2),s=c[0],n=c[1],i=s.session_start_year,l=s.session_end_year,u=function(e){return n(Object(j.a)(Object(j.a)({},s),{},Object(o.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},a=JSON.stringify(Object(j.a)({},s)),e.next=5,J.a.post("http://localhost:8000/api/addsessionyear",a,c);case 5:200===e.sent.status?r.b.success("".concat(i," to ").concat(l," has been added successfully")):r.b.error("Couldn't add ".concat(i," to ").concat(l,"  please try again later"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Add Session Year"})}),Object(d.jsxs)("form",{onSubmit:function(e){return h(e)},children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Start Year "}),Object(d.jsx)("input",{type:"date",className:"form-control",name:"session_start_year",placeholder:"Enter Session Start Year",onChange:function(e){return u(e)},required:!0})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session End Year "}),Object(d.jsx)("input",{type:"date",className:"form-control",name:"session_end_year",placeholder:"Enter Session End Year",onChange:function(e){return u(e)},required:!0})]})]}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Add Session Year"})})]})]})})})})})}),Object(d.jsx)(Te,{})]})})),Ye=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstudentfeedback",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 6:a=e.sent,n(c),j(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=!1,N=function(e){var t=e.props;console.log(t);var c=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,n,i,l,d,o,j,b,u,h,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},a=document.getElementById("reply_message").value,n=s.data.filter((function(e){if(e.id===t.fid)return console.log(e),e})),console.log(n[0]),i=n[0],l=i.created_at,d=i.feedback,o=i.id,j=i.student_id,b=i.updated_at,u=a,h=JSON.stringify({created_at:l,feedback:d,feedback_reply:u,id:o,student_id:j,updated_at:b}),console.log(h),e.next=11,J.a.put("http://127.0.0.1:8000/api/editstudentfeedback/".concat(t.fid),h,c);case 11:200===(m=e.sent).status?(console.log(m.data),r.b.success("Reply Sent  sucessfully"),document.getElementById("reply_message").value="",f(),document.getElementById("closes").click()):r.b.error(" Couldn't send  Reply  please try again later");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"modal fade",id:"myModal",role:"dialog",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsxs)("h4",{className:"modal-title",children:["Send Reply to ",o.data?o.data.map((function(e){return e.id===t.iid?"".concat(e.first_name," ").concat(e.last_name):null})):null," ",Object(d.jsx)("span",{id:"name_span"})]}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("textarea",{className:"form-control",rows:5,id:"reply_message",defaultValue:""})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-info btn-block send_notification_btn",onClick:c,type:"button",children:"Reply"})})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{type:"button",id:"closes",className:"btn btn-default","data-dismiss":"modal",children:"Close"})})]})})})})};Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),e)}))),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsxs)("div",{className:"content-wrapper",children:[Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Student Feedback"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Student ID"}),Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Message"}),Object(d.jsx)("th",{children:"Replied Message"}),Object(d.jsx)("th",{children:"Sended On"}),Object(d.jsx)("th",{children:"Reply"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[e.id," "]}),Object(d.jsxs)("td",{children:[e.student_id," "]}),Object(d.jsxs)("td",{children:[o.data?o.data.map((function(t){return e.student_id===t.id?"".concat(t.first_name," ").concat(t.last_name):""})):"N/A"," "]}),Object(d.jsxs)("td",{children:[e.feedback," "]}),Object(d.jsx)("td",{children:e.feedback_reply}),Object(d.jsxs)("td",{children:[e.created_at," "]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",onClick:(v=!0,function(){return t={hello:"hello",iid:e.student_id,fid:e.id},p(t),void console.log(t);var t}),children:"Reply"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn btn-success reply_open_modal","data-toggle":"modal","data-target":"#reply_modal",children:"Reply"})})]})]})})})]})})})})}),v?Object(d.jsx)(N,{props:m}):""]}),Object(d.jsx)(Te,{})]})})),Ge=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(a.useState)({created_at:"",feedback:"",feedback_reply:"",id:"",staff_id:"",updated_at:""}),v=Object(b.a)(f,2),N=(v[0],v[1],function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstafffeedback",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 6:a=e.sent,n(c),j(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),g=!1,y=function(e){var t=e.props;console.log(t);var c=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,n,i,l,d,o,j,b,u,h;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},a=document.getElementById("reply_message").value,n=s.data.filter((function(e){if(e.id===t.fid)return console.log(e),e})),console.log(n[0]),i=n[0],l=i.created_at,d=i.feedback,o=i.id,j=i.staff_id,b=i.updated_at,u=a,h=JSON.stringify({created_at:l,feedback:d,feedback_reply:u,id:o,staff_id:j,updated_at:b}),console.log(h),e.next=11,J.a.put("http://127.0.0.1:8000/api/editstafffeedback/".concat(t.fid),h,c);case 11:200===e.sent.status?(g=!1,r.b.success("Reply Sent  sucessfully"),document.getElementById("reply_message").value="",N(),document.getElementById("closes").click()):r.b.error(" Couldn't send  Reply  please try again later");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"modal fade",id:"myModal",role:"dialog",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsxs)("h4",{className:"modal-title",children:["Send Reply to ",o.data?o.data.map((function(e){return e.id===t.iid?"".concat(e.first_name," ").concat(e.last_name):null})):null," ",Object(d.jsx)("span",{id:"name_span"})]}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("textarea",{className:"form-control",rows:5,id:"reply_message",defaultValue:""})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-info btn-block send_notification_btn",onClick:c,type:"button",children:"Reply"})})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{type:"button",id:"closes",className:"btn btn-default","data-dismiss":"modal",children:"Close"})})]})})})})};Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N();case 1:case"end":return e.stop()}}),e)}))),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsxs)("div",{className:"content-wrapper",children:[Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Staff Feedback"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Staff ID"}),Object(d.jsx)("th",{children:"Staff Name"}),Object(d.jsx)("th",{children:"Message"}),Object(d.jsx)("th",{children:"Reply Message"}),Object(d.jsx)("th",{children:"Sended On"}),Object(d.jsx)("th",{children:"Reply"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[e.id," "]}),Object(d.jsxs)("td",{children:[e.staff_id," "]}),Object(d.jsxs)("td",{children:[o.data?o.data.map((function(t){return e.staff_id===t.id?"".concat(t.first_name," ").concat(t.last_name):""})):"N/A"," "]}),Object(d.jsxs)("td",{children:[e.feedback," "]}),Object(d.jsx)("td",{children:e.feedback_reply}),Object(d.jsxs)("td",{children:[e.created_at," "]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",onClick:(g=!0,function(){return t={hello:"hello",iid:e.staff_id,fid:e.id},p(t),void console.log(t);var t}),children:"Reply"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn btn-success reply_open_modal","data-toggle":"modal","data-target":"#reply_modal",children:"Reply"})})]})]})})})]})})})})}),g?Object(d.jsx)(y,{props:m}):""]}),Object(d.jsx)(Te,{})]})})),$e=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstaffleave",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 6:a=e.sent,n(c),j(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a,s,n,i,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c=t.created_at,a=t.id,s=t.leave_date,n=t.leave_message,i=t.staff_id,l=t.updated_at,1,d=JSON.stringify({created_at:c,id:a,leave_date:s,leave_message:n,staff_id:i,updated_at:l,leave_status:1}),console.log(d),o={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=8,J.a.put("http://127.0.0.1:8000/api/editstaffleave/".concat(a),d,o);case 8:200===(j=e.sent).status?(r.b.success("Leave approved Success"),console.log(j.data),u()):r.b.error("Leave cannot be approved");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a,s,n,i,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.created_at,a=t.id,s=t.leave_date,n=t.leave_message,i=t.staff_id,l=t.updated_at,2,d=JSON.stringify({created_at:c,id:a,leave_date:s,leave_message:n,staff_id:i,updated_at:l,leave_status:2}),console.log(d),o={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=7,J.a.put("http://127.0.0.1:8000/api/editstaffleave/".concat(a),d,o);case 7:200===(j=e.sent).status?(r.b.success("Leave Rejection Success"),console.log(j.data),u()):r.b.error("Leave cannot be Rejected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Staff Apply for Leave"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Staff ID"}),Object(d.jsx)("th",{children:"Staff Name"}),Object(d.jsx)("th",{children:"Leave Date"}),Object(d.jsx)("th",{children:"Leave Message"}),Object(d.jsx)("th",{children:"Apply On"}),Object(d.jsx)("th",{children:"Action"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.staff_id," "]}),Object(d.jsxs)("td",{children:[" ",o.data?o.data.map((function(t){return e.staff_id===t.id?"".concat(t.first_name," ").concat(t.last_name):""})):"N/A"," "]}),Object(d.jsxs)("td",{children:[" ",e.leave_date," "]}),Object(d.jsxs)("td",{children:[" ",e.leave_message," "]}),Object(d.jsxs)("td",{children:[" ",e.created_at," "]}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{disabled:1===e.leave_status,className:"btn btn-success",type:"button",onClick:function(){return h(e)},children:"Approve"}),Object(d.jsx)("button",{disabled:2===e.leave_status,className:"btn btn-danger",type:"button",onClick:function(){return m(e)},children:"Reject"})]})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" id "}),Object(d.jsx)("td",{children:" id "}),Object(d.jsx)("td",{children:" first_name   last_name "}),Object(d.jsx)("td",{children:" leave_date "}),Object(d.jsx)("td",{children:" leave_message "}),Object(d.jsx)("td",{children:" created_at "})]})]})})})]})})})})})}),Object(d.jsx)(Te,{})]})})),Xe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/getstudentleave",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 6:a=e.sent,n(c),j(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a,s,n,i,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c=t.created_at,a=t.id,s=t.leave_date,n=t.leave_message,i=t.student_id,l=t.updated_at,1,d=JSON.stringify({created_at:c,id:a,leave_date:s,leave_message:n,student_id:i,updated_at:l,leave_status:1}),console.log(d),o={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=8,J.a.put("http://127.0.0.1:8000/api/editstudentleave/".concat(a),d,o);case 8:200===(j=e.sent).status?(r.b.success("Leave approved Success"),console.log(j.data),u()):r.b.error("Leave cannot be approved");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(x.a)(O.a.mark((function e(t){var c,a,s,n,i,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.created_at,a=t.id,s=t.leave_date,n=t.leave_message,i=t.student_id,l=t.updated_at,2,d=JSON.stringify({created_at:c,id:a,leave_date:s,leave_message:n,student_id:i,updated_at:l,leave_status:2}),console.log(d),o={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=7,J.a.put("http://127.0.0.1:8000/api/editstudentleave/".concat(a),d,o);case 7:200===(j=e.sent).status?(r.b.success("Leave Rejection Success"),console.log(j.data),u()):r.b.error("Leave cannot be Rejected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"Student Apply for Leave"})}),Object(d.jsx)("div",{className:"table",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"Student ID"}),Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Leave Date"}),Object(d.jsx)("th",{children:"Leave Message"}),Object(d.jsx)("th",{children:"Apply On"}),Object(d.jsx)("th",{children:"Action"})]}),s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.student_id," "]}),Object(d.jsxs)("td",{children:[" ",o.data?o.data.map((function(t){return e.student_id===t.id?"".concat(t.first_name," ").concat(t.last_name):""})):"N/A"," "]}),Object(d.jsxs)("td",{children:[" ",e.leave_date," "]}),Object(d.jsxs)("td",{children:[" ",e.leave_message," "]}),Object(d.jsxs)("td",{children:[" ",e.created_at," "]}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{disabled:1===e.leave_status,className:"btn btn-success",type:"button",onClick:function(){return h(e)},children:"Approve"}),Object(d.jsx)("button",{disabled:2===e.leave_status,className:"btn btn-danger",type:"button",onClick:function(){return m(e)},children:"Reject"})]})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" id "}),Object(d.jsx)("td",{children:" id "}),Object(d.jsx)("td",{children:" first_name   last_name "}),Object(d.jsx)("td",{children:" leave_date "}),Object(d.jsx)("td",{children:" leave_message "}),Object(d.jsx)("td",{children:" created_at "})]})]})})})]})})})})})}),Object(d.jsx)(Te,{})]})})),Ke=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),r=Object(b.a)(i,2),l=r[0],o=r[1],j=Object(a.useState)([]),u=Object(b.a)(j,2),h=u[0],m=u[1],p=Object(a.useState)([]),f=Object(b.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)([]),y=Object(b.a)(g,2),_=y[0],w=y[1],A=Object(a.useState)([]),S=Object(b.a)(A,2),k=S[0],I=S[1],C=Object(a.useState)([]),E=Object(b.a)(C,2),T=E[0],L=E[1],W=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("attendance_date").value,console.log(t),c={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/getattendancereport/".concat(t),c);case 5:return a=e.sent,e.next=8,J.a.get("http://127.0.0.1:8000/api/suser/3",c);case 8:s=e.sent,console.log(a),I(a),L(s),document.getElementById("student_data").style.display="inline";case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n,i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("session_year_id").value,c=document.getElementById("subject").value,{headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=5,J.a.get("http://127.0.0.1:8000/api/getattendancedate/".concat(c,"/").concat(t));case 5:a=e.sent,N(a),v.data&&(s=document.getElementById("attendance_block"),n=document.getElementById("error_attendance"),i=document.getElementById("fetch_student_block"),r=v.data.map((function(e){return console.log(e.id),Object(d.jsx)("option",{value:e.id,children:e.attendance_date})})),w(r),console.log(_),_?(s.style.display="flex",i.style.display="flex"):n.style.display="flex");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Accept:"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewsubject",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/getattendance",t);case 9:s=e.sent,m(s),n(c),o(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){F()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h3",{className:"card-title",children:"View Attendance"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Subject "}),Object(d.jsx)("select",{className:"form-control",name:"subject",id:"subject",children:h.data?h.data.map((function(e){return s.data?s.data.map((function(t){return t.id===e.subject_id?Object(d.jsx)("option",{id:"sub",value:e.subject_id,children:t.subject_name}):null})):null})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Session Year "}),Object(d.jsx)("select",{className:"form-control",name:"session_year_id",id:"session_year_id",children:h.data?h.data.map((function(e){return l.data?l.data.map((function(t){return t.id===e.session_year_id?Object(d.jsxs)("option",{id:"sesionyr",value:e.session_year_id,children:[t.session_start_year," ",t.session_end_year]}):null})):null})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-block",id:"fetch_attendance",onClick:D,children:"Fetch Attendance Date"})}),Object(d.jsxs)("div",{className:"form-group",id:"attendance_block",style:{display:"none"},children:[Object(d.jsx)("label",{children:"Attendance Date "}),Object(d.jsx)("select",{className:"form-control",name:"attendance_date",id:"attendance_date",children:_?_.map((function(e){return e})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("div",{className:"alert alert-danger",id:"error_attendance",style:{display:"none"}})}),Object(d.jsx)("div",{className:"form-group",id:"fetch_student_block",style:{display:"none"},children:Object(d.jsx)("button",{type:"button",onClick:W,className:"btn btn-primary btn-block",id:"fetch_student",children:"Fetch Student Data"})})]}),Object(d.jsx)("div",{id:"student_data",className:"card-footer",style:{display:"none"},children:Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("table",{className:"table"}),Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Student Name"}),Object(d.jsx)("th",{children:"Status"})]}),Object(d.jsx)("tr",{children:k.data?k.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[T.data?T.data.map((function(t){return t.id===e.student_id?"".concat(t.first_name," ").concat(t.last_name):null})):"N/A"," "]}),Object(d.jsx)("td",{children:!0===e.status?"Present":"Absent"})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A "}),Object(d.jsx)("td",{children:"N/A "})]})})]})]})})]})})})})})}),Object(d.jsx)(Te,{})]})})),Qe=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/2",t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u()}),[]);var h=function(e){var t=e.props;console.log(t);var c=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},a=t.iid,s=document.getElementById("message_not").value,n=JSON.stringify({message:s,staff_id:a}),console.log(n),e.next=7,J.a.post("http://127.0.0.1:8000/api/sendstaffnotification",n,c);case 7:200===e.sent.status?(m=!1,r.b.success("Notification Sent to ".concat(t.nam," sucessfully"))):r.b.error(" Couldn't send  Notification to  ".concat(t.nam,"  please try again later"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"modal fade",id:"myModal",role:"dialog",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsxs)("h4",{className:"modal-title",children:["Send Notification to ",t.nam," ",Object(d.jsx)("span",{id:"name_span"})]}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"text",name:"message",className:"form-control",id:"message_not"})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-info btn-block send_notification_btn",onClick:c,type:"button",children:"Send Notification"})})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Close"})})]})})})})},m=!1;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsxs)("div",{className:"content-wrapper",children:[Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Staff Details"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.first_name," "]}),Object(d.jsxs)("td",{children:[" ",e.last_name," "]}),Object(d.jsxs)("td",{children:[" ",e.email," "]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",onClick:(m=!0,function(){return t={nam:"".concat(e.first_name," ").concat(e.last_name),iid:e.id},void j(t);var t}),children:"Send Notification"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",disabled:!0,onClick:m=!0,children:"Send Notification"})})]})})]})})]})})})})}),m?Object(d.jsx)(h,{props:o}):""]}),Object(d.jsx)(Te,{})]})})),Ze=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:F})((function(e){e.logout,e.isAuthenticated;var t=Object(a.useState)([]),c=Object(b.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],j=l[1],u=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u()}),[]);var h=function(e){var t=e.props;console.log(t);var c=function(){var e=Object(x.a)(O.a.mark((function e(){var c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},a=t.iid,s=document.getElementById("message_not").value,n=JSON.stringify({message:s,student_id:a}),console.log(n),e.next=7,J.a.post("http://127.0.0.1:8000/api/sendstudentnotification",n,c);case 7:200===e.sent.status?(m=!1,r.b.success("Notification Sent to ".concat(t.nam," sucessfully"))):r.b.error(" Couldn't send  Notification to  ".concat(t.nam,"  please try again later"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"modal fade",id:"myModal",role:"dialog",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsxs)("h4",{className:"modal-title",children:["Send Notification to ",t.nam," ",Object(d.jsx)("span",{id:"name_span"})]}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"text",name:"message",className:"form-control",id:"message_not"}),Object(d.jsx)("input",{type:"hidden",name:"student_id",className:"form-control",id:"student_id"})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-info btn-block send_notification_btn",onClick:c,type:"button",children:"Send Notification"})})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Close"})})]})})})})},m=!1;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsxs)("div",{className:"content-wrapper",children:[Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("h3",{className:"card-title",children:"Students"}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"table_search",className:"form-control float-right",placeholder:"Search"}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:s.data?s.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.id," "]}),Object(d.jsxs)("td",{children:[" ",e.first_name," "]}),Object(d.jsxs)("td",{children:[" ",e.last_name," "]}),Object(d.jsxs)("td",{children:[" ",e.email," "]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",onClick:(m=!0,function(){return t={nam:"".concat(e.first_name," ").concat(e.last_name),iid:e.id},void j(t);var t}),children:"Send Notification"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:"N/A"}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{to:"#",className:"btn btn-success show_notification","data-toggle":"modal","data-target":"#myModal",disabled:!0,onClick:m=!0,children:"Send Notification"})})]})})]})})]})})})})}),m?Object(d.jsx)(h,{props:o}):""]}),Object(d.jsx)(Te,{})]})})),et=c(17),tt=Object(h.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:D})((function(e){e.signup,e.isAuthenticated;var t=[],c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)([]),l=Object(b.a)(r,2),o=l[0],j=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)([]),_=Object(b.a)(y,2),w=_[0],A=_[1],S=function(){var e=Object(x.a)(O.a.mark((function e(){var t,c,a,s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.next=3,J.a.get("http://127.0.0.1:8000/api/viewcourses",t);case 3:return c=e.sent,e.next=6,J.a.get("http://127.0.0.1:8000/api/viewsessionyear",t);case 6:return a=e.sent,e.next=9,J.a.get("http://127.0.0.1:8000/api/suser/3",t);case 9:return s=e.sent,e.next=12,J.a.get("http://127.0.0.1:8000/api/getenroled",t);case 12:n=e.sent,g(n),i(c),j(a),p(s),console.log(s);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("Hey i am calling"),S()}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"hold-transition sidebar-mini  layout-fixed",children:Object(d.jsx)(We,{})}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("h2",{className:"card-title",children:"Enroll Student"})}),Object(d.jsxs)("div",{className:"container mt-5",children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-primary",id:"trick",onClick:function(){document.getElementById("main").style.display="grid",document.getElementById("trick").style.display="none",function(){var e=m.data.map((function(e){return e.id}));console.log(e),console.log(N.data.length);var c=0===N.data.length?null:N.data.map((function(e){return e.student_id}));console.log(c),null===c?(t=e,console.log(t),A.apply(void 0,Object(et.a)(w).concat([m.data.map((function(e){return t.map((function(t){return t===e.id?e.id:null}))}))])),console.log(w)):console.log("yeha samma bhayo")}()},children:"Fetch Students"})}),Object(d.jsxs)("div",{id:"main",style:{display:"none"},className:"form-group",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("p",{children:"Student Name"}),Object(d.jsx)("select",{className:"form-control",name:"student_name",id:"student_id",children:null===t?Object(d.jsx)("option",{children:"No students Avilable1"}):t.map((function(e){return 0===m.data.length?Object(d.jsx)("option",{children:"No students avilable2"}):m.data.map((function(c){return e===t.id?Object(d.jsxs)("option",{children:[c.first_name," ",c.last_name]}):null}))}))})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("p",{children:"Course Name"}),Object(d.jsx)("select",{className:"form-control",name:"course_id",id:"course_name",children:n.data?n.data.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.course_name})})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("p",{children:"Session Year"}),Object(d.jsx)("select",{className:"form-control",id:"session_year",name:"session_year_id",children:o.data?o.data.map((function(e){return Object(d.jsxs)("option",{value:e.id,children:[e.session_start_year," to ",e.session_end_year]})})):Object(d.jsx)("option",{children:"N/A"})})]}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(d.jsx)("p",{className:"mt-3"})]})]})})})})})}),Object(d.jsx)(Te,{})]})})),ct=function(){return Object(d.jsxs)(h.a,{store:$,children:[Object(d.jsxs)(l.a,{children:[Object(d.jsx)(K,{children:Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/",component:R}),Object(d.jsx)(u.b,{exact:!0,path:"/login",component:R}),Object(d.jsx)(u.b,{exact:!0,path:"/ResetPassword",component:z}),Object(d.jsx)(u.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:B}),Object(d.jsx)(u.b,{exact:!0,path:"/activate/:uid/:token",component:P}),Object(d.jsx)(u.b,{exact:!0,path:"/signup",component:M})]})}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/staffhome",component:ne}),Object(d.jsx)(u.b,{exact:!0,path:"/staffnotification",component:de}),Object(d.jsx)(u.b,{exact:!0,path:"/staffeditresult",component:oe}),Object(d.jsx)(u.b,{exact:!0,path:"/staffaddresult",component:ie}),Object(d.jsx)(u.b,{exact:!0,path:"/staffapplyleave",component:be}),Object(d.jsx)(u.b,{exact:!0,path:"/stafffeedback",component:he}),Object(d.jsx)(u.b,{exact:!0,path:"/staffprofile",component:me}),Object(d.jsx)(u.b,{exact:!0,path:"/safftakeattendance",component:re}),Object(d.jsx)(u.b,{exact:!0,path:"/staffupdateattendance",component:Oe})]}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/studenthome",component:Ne}),Object(d.jsx)(u.b,{exact:!0,path:"/studentapplyleave",component:ye}),Object(d.jsx)(u.b,{exact:!0,path:"/studentviewattendance",component:we}),Object(d.jsx)(u.b,{exact:!0,path:"/studentfeedback",component:Se}),Object(d.jsx)(u.b,{exact:!0,path:"/studentviewresult",component:Ie}),Object(d.jsx)(u.b,{exact:!0,path:"/studentviewattendancedata",component:Ce}),Object(d.jsx)(u.b,{exact:!0,path:"/studentviewnotification",component:Ee})]}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/adminhome",component:Fe}),Object(d.jsx)(u.b,{exact:!0,path:"/addstaff",component:Re}),Object(d.jsx)(u.b,{exact:!0,path:"/addstudent",component:Be}),Object(d.jsx)(u.b,{exact:!0,path:"/managestaff",component:ze}),Object(d.jsx)(u.b,{exact:!0,path:"/managestudent",component:Me}),Object(d.jsx)(u.b,{exact:!0,path:"/addcourse",component:Pe}),Object(d.jsx)(u.b,{exact:!0,path:"/managecourse",component:He}),Object(d.jsx)(u.b,{exact:!0,path:"/addsubject",component:qe}),Object(d.jsx)(u.b,{exact:!0,path:"/managesubject",component:Ue}),Object(d.jsx)(u.b,{exact:!0,path:"/managesession",component:Ve}),Object(d.jsx)(u.b,{exact:!0,path:"/studentfeedbackadmin",component:Ye}),Object(d.jsx)(u.b,{exact:!0,path:"/stafffeedbackadmin",component:Ge}),Object(d.jsx)(u.b,{exact:!0,path:"/staffleaveadmin",component:$e}),Object(d.jsx)(u.b,{exact:!0,path:"/studentleaveadmin",component:Xe}),Object(d.jsx)(u.b,{exact:!0,path:"/adminviewhajir",component:Ke}),Object(d.jsx)(u.b,{exact:!0,path:"/ssna",component:Qe}),Object(d.jsx)(u.b,{exact:!0,path:"/sstna",component:Ze}),Object(d.jsx)(u.b,{exact:!0,path:"/enrollstudent",component:tt})]})]}),Object(d.jsx)(r.a,{closeButton:!1,position:"bottom-right"})]})},at=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,245)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(ct,{})}),document.getElementById("root")),at()}},[[244,1,2]]]);
//# sourceMappingURL=main.b71db3a6.chunk.js.map